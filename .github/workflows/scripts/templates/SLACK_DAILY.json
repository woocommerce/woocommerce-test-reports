{
  "blocks": [
    {
      "type": "header",
      "text": {
        "type": "plain_text",
        "text": ":newspaper:  Daily Smoke Test Report  :newspaper:"
      }
    },
    {
      "type": "context",
      "elements": [
        {
          "text": "*$DATE* | Daily smoke test on trunk.",
          "type": "mrkdwn"
        }
      ]
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "As part of our automated testing processes, smoke tests are regularly being run against `trunk` at 3:25 UTC everyday. The following is a summary of the daily smoke test report."
      }
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": " :alphabet-white-hash: *Commit*"
      }
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "The latest commit made on `trunk` when the Daily Smoke Tests ran:"
      }
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "> $COMMIT_MESSAGE"
      }
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "To view the workflow run in GitHub Actions, click this button."
      },
      "accessory": {
        "type": "button",
        "text": {
          "type": "plain_text",
          "text": ":github: View run logs",
          "emoji": true
        },
        "value": "button_workflow_run",
        "url": "https://github.com/woocommerce/woocommerce/actions/runs/$RUN_ID",
        "action_id": "button-action"
      }
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": ":api: *API test report summary*"
      }
    },
    {
      "type": "section",
      "fields": [
        {
          "type": "mrkdwn",
          "text": "*Status*"
        },
        {
          "type": "mrkdwn",
          "text": "*Count*"
        },
        {
          "type": "plain_text",
          "text": "Passed",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "$PASSED_API",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "Failed",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "$FAILED_API",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "Skipped",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "$SKIPPED_API",
          "emoji": true
        }
      ]
    },
    {
      "type": "section",
      "fields": [
        {
          "type": "plain_text",
          "text": "Broken",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "$BROKEN_API",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "Unknown",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "$UNKNOWN_API",
          "emoji": true
        }
      ]
    },
    {
      "type": "section",
      "fields": [
        {
          "type": "mrkdwn",
          "text": "Total number of tests"
        },
        {
          "type": "mrkdwn",
          "text": "*$TOTAL_API*"
        },
        {
          "type": "mrkdwn",
          "text": "Duration"
        },
        {
          "type": "mrkdwn",
          "text": "*$DURATION_API*"
        }
      ]
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "Link to the full API test report"
      },
      "accessory": {
        "type": "button",
        "text": {
          "type": "plain_text",
          "text": "View full API report ",
          "emoji": true
        },
        "value": "full_api_report",
        "url": "https://woocommerce.github.io/woocommerce-test-reports/daily/api/allure-report",
        "action_id": "button-action"
      }
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": ":playwright: *E2E test report summary*"
      }
    },
    {
      "type": "section",
      "fields": [
        {
          "type": "mrkdwn",
          "text": "*Status*"
        },
        {
          "type": "mrkdwn",
          "text": "*Count*"
        },
        {
          "type": "plain_text",
          "text": "Passed",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "TBC",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "Failed",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "TBC",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "Skipped",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "TBC",
          "emoji": true
        }
      ]
    },
    {
      "type": "section",
      "fields": [
        {
          "type": "plain_text",
          "text": "Broken",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "TBC",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "Unknown",
          "emoji": true
        },
        {
          "type": "plain_text",
          "text": "TBC",
          "emoji": true
        }
      ]
    },
    {
      "type": "section",
      "fields": [
        {
          "type": "mrkdwn",
          "text": "Total number of tests"
        },
        {
          "type": "mrkdwn",
          "text": "*TBC*"
        },
        {
          "type": "mrkdwn",
          "text": "Duration"
        },
        {
          "type": "mrkdwn",
          "text": "*TBC*"
        }
      ]
    },
    {
      "type": "divider"
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "Link to the full E2E test report"
      },
      "accessory": {
        "type": "button",
        "text": {
          "type": "plain_text",
          "text": "View full E2E report",
          "emoji": true
        },
        "value": "full_e2e_report",
        "url": "https://woocommerce.github.io/woocommerce-test-reports/daily/e2e/allure-report",
        "action_id": "button-action"
      }
    }
  ]
}
