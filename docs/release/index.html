---
title: Smoke Tests on Releases
layout: default
---

<html>
  <head>
    <title>{{ page.title }}</title>
    <link rel="icon" type="image/x-icon" href="favicon.png" />
  </head>
  <body>
    <h1>{{ page.title }}</h1>
    <hr />

    <!-- Create list of all release tags, sorted in desc order -->
    {%- assign release_pages = site.pages | where_exp: "page", "page.url
    contains '/release/'" | sort: "created_at" | reverse -%} {%- assign
    release_tags = release_pages | map: "release_tag" | uniq | compact -%}

    <!-- Create header text from each release tag -->
    {%- for r_tag in release_tags -%}
    <h2>{{ r_tag }}</h2>

    <!-- Create table per release tag -->
    <table>
      <tbody>
        <tr>
          <!-- Get all 'wp-latest/' pages in this release tag -->
          {% assign wp_latest_pages = release_pages | where: "release_tag",
          r_tag | where: "env_description", "wp_latest" %}

          <!-- Get the 'wp-latest/api' page -->
          {% assign api_page = wp_latest_pages | where: "test_type", "api" | first
          %}
          <!-- Get the 'wp-latest/e2e' page -->
          {% assign e2e_page = wp_latest_pages | where: "test_type", "e2e" | first
          %}

          <!-- Get API result. -->
          {% assign api_passed = api_page.passed %}
          <!-- Get E2E result. -->
          {% assign e2e_passed = e2e_page.passed %}

          <td>WP Latest</td>
          <td>
            <a href="{{ r_tag }}/wp-latest/api">API</a>
            &nbsp;
            <!-- Check emoji if API test passed -->
            {% if api_passed %} &#9989;
            <!-- Else, cross mark emoji -->
            {% else %} &#10060; {% endif %}
          </td>
          <td>
            <a href="{{ r_tag }}/wp-latest/e2e">E2E</a>
            &nbsp;
            <!-- Check emoji if E2E test passed -->
            {% if e2e_passed %} &#9989;
            <!-- Else, cross mark emoji -->
            {% else %} &#10060; {% endif %}
          </td>
        </tr>
        <tr>
          <td>WP Latest-1</td>
          <td>API</td>
          <td>E2E</td>
        </tr>
        <tr>
          <td>WP Latest-2</td>
          <td>API</td>
          <td>E2E</td>
        </tr>
      </tbody>
    </table>

    {%- endfor -%}
  </body>
</html>
